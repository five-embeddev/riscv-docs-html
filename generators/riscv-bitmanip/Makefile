TOP_DIR=../../

override SRC_REPO:=riscv-bitmanip
override OUT_DOC:=${SRC_REPO}
override DOC=bitmanip

include ../vars.mak

override DOC_DIR=${SRC_REPO}/${VERSION}
override SRC_DIR=${TOP_DIR}/external/${DOC_DIR}/bitmanip/


TITLE=RISC-V Bit-manipulation A, B, C and S Extensions
CATEGORY=RISC-V ISA: Bitmanip

ADOC_FILES=${wildcard ${SRC_DIR}/bitmanip.adoc}
HTML_FILES=${ADOC_FILES:${SRC_DIR}/%.adoc=%.html}
ALL=${ADOC_FILES:${SRC_DIR}/%.adoc=%}

TOP_FILE=${SRC_DIR}/index.adoc
SPEC_DATE=$(shell cd ${dir ${TOP_FILE}} &&  git show --pretty='%as' HEAD | head -n1)

TARGETS=${HTML_FILES:%=${HTML_DST_DIR}/%}

asciidoctor: autogen ${TARGETS} menu

autogen :
	${MAKE} \
		-C ${TOP_DIR}/external/${DOC_DIR}/ \
		bitmanip/autogenerated/revision.adoc-snippet

include ../targets-adoc.mak

